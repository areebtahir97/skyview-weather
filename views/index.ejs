<!DOCTYPE html>
<html>
  <head>
    <title>SkyView</title>
    <link rel="icon" type="image/x-icon" href="/images/weather-app.png">
    <link rel="stylesheet" type="text/css" href="/styles.css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.14.0/css/all.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>


 </head>
  <body >
    <div class="container">
      <h1>SkyView</h1>
      <hr>
      <h2>Your Weather Companion</h2>
      <form action="/weather" method="get">
        <input type="text" name="city" placeholder="Enter city name" />
        <button type="submit">Get Weather</button>
      </form>
      <% if (locals.error) { %>
      <p class="error"><%= error %></p>
      <% } else if (locals.weather) { %>
      <div class="card">
        <!-- Add your weather data here -->
        <p id="datetime" style="color: grey;"></p>
        <p>
          <i class="fas fa-thermometer-half"></i>
          <%= weather.main.temp %>&deg;C
        </p>
        <p>
          <% if (locals.weather.weather[0].main==="Haze"){ %>
          <i class="fa-solid fa-smog fa-beat" style="color: #C2BFBA;"></i><% }else if (locals.weather.weather[0].main==="Clouds") { %>
            <i class="fa-solid fa-cloud fa-beat" style="color: #C2BFBA;"></i><% }else if (locals.weather.weather[0].main==="Clear") {%>
              <i class="fa-solid fa-sun fa-spin" style="color: #FDB813 ;"></i><% }else if (locals.weather.weather[0].main==="Rain") {%>
                <i class="fa-solid fa-cloud-showers-heavy fa-beat" style="color:  #3C619E;"></i><% }else if (locals.weather.weather[0].main==="Drizzle") {%>
                  <i class="fa-solid fa-cloud-rain fa-beat" style="color:  #3C619E;"></i><% }else if  (locals.weather.weather[0].main==="Snow") {%>
                    <i class="fa-regular fa-snowflake fa-spin" style="color:silver;"></i><% }else if (locals.weather.weather[0].main==="Thunderstorm") {%>
                      <i class="fa-solid fa-cloud-bolt fa-beat" style="color: #C2BFBA;"></i><% }else if (locals.weather.weather[0].main==="Fog") {%>
                        <i class="fa-solid fa-smog fa-beat" style="color: #C2BFBA;"></i><% }else if (locals.weather.weather[0].main==="Smoke") {%>
                        <i class="fa-solid fa-smog fa-beat" style="color: #C2BFBA;"></i><% }  %>

          <%= weather.weather[0].main %>
                          
        </p>
        <p> 
          <i class="fa-solid fa-droplet" style="color: blue;"></i>
          <%= weather.main.humidity %>%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i class="fa-solid fa-wind" style="color: #C7C8CC;"></i>&nbsp;<%= weather.wind.speed %> m/sec
        </p>
        <p>
          <i class="fas fa-map-marker-alt" style="color: red;"></i>
          <%= weather.name %>,  <%= weather.sys.country %>
        </p>
        
      <% if (locals.weather.weather[0].main==="Rain" || locals.weather.weather[0].main==="Snow" || locals.weather.weather[0].main==="Thunderstorm") {%>
        <div class="blink">
          <i class="fa-solid fa-umbrella"></i>
        </div><% } %>
        <% } %>
      </div>
      
    </div>
    
    <script>
      
      var now = new Date();
      const options={
    
        hour12:'true',
        day:'2-digit',
        month:'long',
        year:'numeric',
        hour:'2-digit',
        minute:'2-digit'
      }
      var datetime = now.toLocaleString("en-US", options);
      
      document.getElementById("datetime").innerHTML = datetime;
    </script>
    <script src="https://kit.fontawesome.com/5f92605060.js" crossorigin="anonymous"></script>
  </body>
  <footer>
    <% var date =  new Date().getFullYear(); %>
    <p class="footstyle">Â© Areeb Tahir ,<%= date %>&emsp;&emsp;&emsp;&emsp;<a style="color: black;" href="https://github.com/areebtahir97" class="fa-brands fa-square-github fa-2x"></a> &emsp;<a href="https://www.linkedin.com/in/areeb-tahir-b16863267/" style="color: blue;" class="fa-brands fa-linkedin fa-2x"></a></p>
    
  </footer>
  
</html>